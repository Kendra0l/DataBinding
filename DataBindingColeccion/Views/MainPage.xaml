<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui" 
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:views="clr-namespace:DataBindingColeccion.Views"
    xmlns:models="clr-namespace:DataBindingColeccion.Models"
    x:DataType="views:MainPage"
    x:Class="DataBindingColeccion.Views.MainPage" 
    Title="MainPage" 
    BackgroundColor="#E6E6E6">
    
    <Grid 
        RowDefinitions="Auto,*,Auto,Auto" 
        Padding="16">
        
        <Grid 
            ColumnDefinitions="*,Auto,Auto" 
            ColumnSpacing="4">
            
            <Label 
                Text="OrÃ­genes del paquete:" 
                VerticalOptions="Center" />
            <Button 
                Grid.Column="1" 
                Text="+" 
                BackgroundColor="White" 
                TextColor="Green" 
                BorderColor="#C0C0C0" 
                BorderWidth="1" 
                FontAttributes="Bold" 
                CornerRadius="3" 
                Clicked="OnAgregarButton_Clicked"/>
            <Button 
                Grid.Column="2" 
                Text="X" 
                BackgroundColor="White" 
                TextColor="SaddleBrown" 
                BorderColor="#C0C0C0" 
                BorderWidth="1" 
                CornerRadius="3" 
                Clicked="OnDeleteButtonClicked"/>
        </Grid>
        
        <CollectionView 
            Grid.Row="1" 
            BackgroundColor="White"
            ItemsSource="{Binding Origenes}"
            SelectionMode="Single"
            SelectedItem="{Binding OrigenSeleccionado}"
            SelectionChanged="OrigenesListView_SelectionChanged">
            <CollectionView.ItemTemplate>
                <DataTemplate x:DataType="{x:Type models:OrigenDePaquete}">
                    <Border
                        Stroke="Blue"
                        Padding="8">
                        <Grid
                            RowDefinitions="Auto,*"
                            ColumnDefinitions="Auto,Auto">
                            <CheckBox
                            IsChecked="{Binding EstaHabilitado}"
                             Grid.RowSpan="2"/>
                            
                            <Label
                                Grid.Column="1"
                                Text="{Binding Nombre}"/>
                            <Label
                                Grid.Row="1"
                                Grid.Column="1"
                                Text="{Binding Origen}"/>
                        </Grid>
                    </Border>
                </DataTemplate>
            </CollectionView.ItemTemplate>

        </CollectionView>
        
        <Grid 
            Grid.Row="2" 
            RowDefinitions="Auto,Auto" 
            ColumnDefinitions="Auto,*,Auto" 
            RowSpacing="8" 
            ColumnSpacing="8">
            
            <Label 
                Text="Nombre:" 
                VerticalOptions="Center" />
            
            <Entry 
                Grid.Column="1"
                Text="{Binding NombreDelOrigen }"/>
            <Label 
                Text="Origen:" 
                Grid.Row="1" 
                VerticalOptions="Center" />
            <Entry 
                Grid.Column="1" 
                Grid.Row="1"
                Text="{Binding RutaDelOrigen}"/>
            <Button 
                Text="Actualizar" 
                Grid.Row="1" 
                Grid.Column="2" 
                BackgroundColor="White" 
                TextColor="Black"
                BorderColor="#C0C0C0" 
                BorderWidth="1" 
                HorizontalOptions="End"
                Clicked="OnActualizarButton_Clicked"/>
        </Grid>
      
    </Grid>
</ContentPage>
